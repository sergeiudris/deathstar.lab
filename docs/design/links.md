
## delivering desktop apps

- docker-app
  - https://www.docker.com/blog/compose-easier-to-use-with-application-packages/ 
  - https://github.com/docker/app
  - https://github.com/docker/app/tree/master/examples/voting-app

## editors in the browser

- https://repl.it/languages/clojure
- https://github.com/cdr/code-server
  - https://github.com/VSCodium/vscodium
- https://github.com/adobe/brackets
- https://github.com/icecoder/ICEcoder
- https://github.com/eclipse-theia/theia

## sharing volume between docker-compose services

- https://stackoverflow.com/questions/44284484/docker-compose-share-named-volume-between-multiple-containers

## linux start stop proc by a given name

- https://askubuntu.com/questions/153900/how-can-i-start-a-process-with-a-different-name

## multi-service containers

- https://docs.docker.com/config/containers/multi-service_container/

## ipfs peer chess

- IPFS Meetup, London // Peer Chess - Juan Benet 2019
  - https://www.youtube.com/watch?v=XazjXb_BPZM
  - https://github.com/jbenet/peer-chess
- https://github.com/peer-base/peer-base
  - https://github.com/peer-base/peer-star
    - https://github.com/peer-base/peer-pad
    - https://github.com/ipfs-shipyard/discussify-browser-extension
    
## docker-compose volumes

- How do I mount a host directory as a volume in docker compose
  - http://blog.code4hire.com/2018/06/define-named-volume-with-host-mount-in-the-docker-compose-file/
  - https://stackoverflow.com/questions/40905761/how-do-i-mount-a-host-directory-as-a-volume-in-docker-compose
- Initializing docker compose volumes
  - https://github.com/moby/moby/issues/20390

## bash environment variables

- https://unix.stackexchange.com/questions/423854/exporting-a-variable-from-inside-a-function-equals-to-global-export-of-that-vari

## docker-compose project name

- https://stackoverflow.com/questions/53401672/stack-name-with-docker-compose

## docker stack 127.0.0.1 vs 0.0.0.0

- docker swarm mode: ports on 127.0.0.1 are exposed to 0.0.0.0
  - https://github.com/moby/moby/issues/32299

## docker volume for .m2 

- https://stackoverflow.com/questions/39977955/how-to-mount-docker-volume-into-my-docker-project-using-compose

## traefik

- https://stackoverflow.com/questions/55591455/how-to-route-with-traefik-a-docker-swarm-container-needs-a-port-to-context-of
- https://github.com/DoTheEvo/Traefik-v2-examples
- Allow to add path prefix for both api and dashboard endpoints
  - https://github.com/traefik/traefik/issues/5853

## docker stack and env files

- `docker stack deploy` in 1.13 doesn't load `.env` file as `docker-compose up` does
  - https://github.com/moby/moby/issues/29133
  - https://github.com/moby/moby/issues/29133#issuecomment-265038663
    - Otherwise, we have to prefix export in each line of .env file and manually source .env every time before loading the docker-compose.yml, and the extra steps sometimes are prone to mistake.
  - https://github.com/moby/moby/issues/29133#issuecomment-278198683
    - env $(cat .env | grep ^[A-Z] | xargs) docker stack deploy --compose-file docker-compose.yml [STACK_NAME]
    - That way, variables don't get stuck on the terminal window
  - https://github.com/moby/moby/issues/29133#issuecomment-442912378
    - >  DAB files were generated by Docker Compose with the docker-compose bundle command
    - docker stack deploy -c <(docker-compose config) stack-name-here

## ipfs peers commuincating

- https://github.com/ipfs-shipyard/ipfs-pubsub-1on1
- https://github.com/ipfs/go-ipfs/blob/master/docs/environment-variables.md
- https://github.com/ipfs/ipfs-cluster/blob/master/docker-compose.yml
- Connecting to some peers fails with 'dial attempt failed: context deadline exceeded' (MOSTLY)
  - https://github.com/ipfs/go-ipfs/issues/5800
- IPFS nodes hosted from a home network via port 4001
  - https://discuss.ipfs.io/t/ipfs-nodes-hosted-from-a-home-network-via-port-4001/9353
    - > Edit .ipfs/config to change it (Addresses/Swarm).
    - > Ipfs also uses uPnP to setup port forwarding automatically in your router.

## ipfs pubsub

- https://github.com/ipfs/go-ipfs/blob/master/docs/experimental-features.md#ipfs-pubsub
- On-demand pubsub
  - https://github.com/libp2p/go-libp2p-pubsub/issues/332
- https://stackoverflow.com/questions/55575918/pubsub-between-two-nodes-in-ipfs
  - https://github.com/ipfs/js-ipfs/tree/master/examples/browser-exchange-files
  - https://github.com/ipfs/js-ipfs/tree/master/examples/running-multiple-nodes

## uPnP

- https://en.wikipedia.org/wiki/Universal_Plug_and_Play

## docker-compose networks aliases

- https://docs.docker.com/compose/compose-file/#networks

## ipfs and docker-compose

- Connect to a remote IPFS server with multiaddr /dns4/name — required for docker-compose v3+ usage
  - https://github.com/ipfs/ipfs-cluster/issues/462#issuecomment-409720112

## ipfs api and config

- https://github.com/ipfs/go-ipfs/blob/master/docs/config.md#addressesannounce
- https://docs.ipfs.io/reference/cli/#ipfs-key-rm

## ipfs swarm connect

- ipfs swarm connect should only use address provided in argument by default
  - https://github.com/ipfs/go-ipfs/issues/4191
- https://discuss.ipfs.io/t/ipfs-node-cannot-see-other-ipfs-nodes-inside-a-docker-network/6486
  - https://discuss.ipfs.io/t/ipfs-node-cannot-see-other-ipfs-nodes-inside-a-docker-network/6486/3
    - `IPFS_PROFILE=server` prevented discovery of nodes over docker network
      - `local-discovery` didn't work either
    - https://github.com/ipfs/go-ipfs/blob/master/docs/config.md#profiles
    - https://github.com/Alex99y/docker-ipfs

## ipfs EnableAutoRelay, libp2p Circuit relay

- https://blog.aira.life/understanding-ipfs-circuit-relay-ccc7d2a39
  - > Relay is needed when there are two nodes in the topology of our network (QmOne and QmTwo), a direct connection between which is impossible (for example, both are behind NAT), but the connection must be established. In this situation, a special proxy node is selected that proxies the connection from one node to another and vice versa.
- https://docs.libp2p.io/concepts/circuit-relay/


## auto discovery with multiple docker networks: only one network is listed in “swarm addrs local”

- https://discuss.ipfs.io/t/auto-discovery-with-multiple-docker-networks-only-one-network-is-listed-in-swarm-addrs-local/9418
- https://github.com/libp2p/go-libp2p/issues/1025

- To sum up current status (using go-ipfs#v0.7.0 and repsectively go-libp2p#v0.11.0 go-libp2p-swarm#0.2.8)
- did fork and run and indeed - `makeAddrsFactory` https://github.com/ipfs/go-ipfs/blob/v0.7.0/core/node/libp2p/addrs.go#L28 returns `go-libp2p-swarm/swarm_addr.go#AllAddrs` when Announce/NoAnnounce are empty
- this is where the node gets `local` and `listen` addresses
    - https://github.com/ipfs/go-ipfs/blob/v0.7.0/core/coreapi/swarm.go#L96
- `listen` come from `InterfaceListenAddresses` in go-libp2p-swarm
    - https://github.com/libp2p/go-libp2p-swarm/blob/v0.2.8/swarm_addr.go#L30
- `local` come from `AllAddrs` in go-libp2p (that's where all the logic and filtering is)
    - https://github.com/libp2p/go-libp2p/blob/v0.11.0/p2p/host/basic/basic_host.go#L793
- will explore further to make it so that all docker networks are within  `core/coreapi/swarm#LocalAddrs`.
- the focus is on [`AllAddrs`](https://github.com/libp2p/go-libp2p/blob/v0.11.0/p2p/host/basic/basic_host.go#L793), this where IPs get filtered out.
~~*There is always a monkey-patch option of making `core/coreapi/swarm#LocalAddrs` return merged `InterfaceListenAddresses` and `AllAddrs`, but this is a hack we need to avoid.~~ (would not matter, coreapi/swarm has no effect on actual discovery)


## IPFS sending messages from peer to peer directly

- https://stackoverflow.com/questions/53467489/ipfs-how-to-send-message-from-a-peer-to-another

## either libp2p or fork-modifying js-ipfs node

- https://github.com/libp2p/jvm-libp2p
  - https://github.com/libp2p/jvm-libp2p/blob/develop/examples/chatter/src/main/kotlin/io/libp2p/example/chat/ChatNode.kt

## nodejs processes on jvm

- https://github.com/mozilla/rhino
- https://openjdk.java.net/projects/nashorn/
- https://github.com/graalvm/graaljs
- https://github.com/apigee/trireme

## puppeteer

- https://github.com/puppeteer/puppeteer
- https://github.com/puppeteer/puppeteer/blob/v5.5.0/docs/api.md#table-of-contents
- https://github.com/puppeteer/puppeteer/tree/main/examples/
- How to send message from page to Puppeteer?
  - https://github.com/puppeteer/puppeteer/issues/3971 
  - https://github.com/puppeteer/puppeteer/blob/main/docs/api.md#pageexposefunctionname-puppeteerfunction

## electron web-embeds

- https://www.electronjs.org/docs/api/browser-view
- https://www.electronjs.org/docs/tutorial/web-embeds
- BrowserView can be hidden
  - https://stackoverflow.com/questions/56564344/how-to-hide-not-destroy-a-browserview-in-electron
- Is it possible to run puppeteer on electron window?
  - https://github.com/puppeteer/puppeteer/issues/4655

## puppeteer

- https://stackoverflow.com/questions/58428213/how-to-access-remote-debugging-page-for-dockerized-chromium-launch-by-puppeteer
- Chrome remote debugging expects host header
  - https://github.com/puppeteer/puppeteer/issues/2242
  - curl -H host:localhost http://puppeteer:9222/json/version

## idea is to run nodejs cljs apps without spinning up jvm 

- lumo
  - https://github.com/anmonteiro/lumo
  - why google-closure-compiler-js deprecated, smth about Graal native version (can it be used as part of somth like lumo?)
    - https://github.com/google/closure-compiler-npm/blob/master/packages/google-closure-compiler-js/readme.md
  - Testing perf of GraalVM version of Google Closure Compiler for ClojureScript cljs.core
    - https://gist.github.com/mfikes/07be413e34750a9f451bd76d937ff545


## random generation and seed

- https://github.com/clojure/test.check/blob/master/src/main/clojure/clojure/test/check/generators.cljc
- https://stackoverflow.com/questions/20324508/different-random-number-sequences-on-different-computers#:~:text=1%20Answer&text=Yes%2C%20with%20the%20same%20seed,the%20same%20sequence%20of%20numbers.&text=If%20two%20instances%20of%20Random,return%20identical%20sequences%20of%20numbers.

## desktop app: installing and updates, signing

- macOS openeing unnotorized apps 
  - https://support.apple.com/guide/mac-help/open-a-mac-app-from-an-unidentified-developer-mh40616/mac
  - https://support.apple.com/en-us/HT202491
  - user can do open-anywya and install the app, it is isntalled/opened and is saved as an exception to security and can be opened regularly from now on
- windows
  - same should apply
- so overall, no issues building dekstop binaries and being able to isntall them on linux, macOS, windows


## upgrading http request to rsocket

- rsocket-js 
  - client works, takes Websocket as argument
    - https://github.com/rsocket/rsocket-js/blob/08bef0b23b481c3dceceef875196d8a8bfc1930c/packages/rsocket-websocket-client/src/RSocketWebSocketClient.js#L79
  - server seems not (creates its won server, options not implemented)
    - https://github.com/rsocket/rsocket-js/blob/08bef0b23b481c3dceceef875196d8a8bfc1930c/packages/rsocket-websocket-server/src/RSocketWebSocketServer.js
- ws server can upgrade, can even use one server for multiple websockets
  - https://github.com/websockets/ws#multiple-servers-sharing-a-single-https-server


## nrepl sessions

-   Thread clojure.lang.DynamicClassLoader.
  - https://github.com/nrepl/nrepl/blob/master/src/clojure/nrepl/middleware/session.clj#L41